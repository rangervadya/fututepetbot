<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–≤–æ–π –ë—É–¥—É—â–∏–π –ü–∏—Ç–æ–º–µ—Ü</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script src="config.js" defer></script>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="script.js" defer></script>
    
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –±—É–¥—É—Ç –≤ style.css */
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
            color: #666;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="app" class="hidden">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="main-nav">
            <button class="nav-btn active" data-page="home">
                <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
            </button>
            <button class="nav-btn" data-page="pets">
                <i class="fas fa-paw"></i> –ú–æ–∏ –ø–∏—Ç–æ–º—Ü—ã
            </button>
            <button class="nav-btn" data-page="partners">
                <i class="fas fa-store"></i> –ü–∞—Ä—Ç–Ω—ë—Ä—ã
            </button>
            <button class="nav-btn" data-page="profile">
                <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å
            </button>
        </nav>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã -->
        <div class="pages-container">
            <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div id="home-page" class="page active">
                <header class="app-header">
                    <div class="logo">
                        <i class="fas fa-paw"></i>
                        <h1>–¢–≤–æ–π –ë—É–¥—É—â–∏–π –ü–∏—Ç–æ–º–µ—Ü</h1>
                    </div>
                    <p class="user-greeting" id="userGreeting">–ü—Ä–∏–≤–µ—Ç!</p>
                </header>
                
                <!-- –ë–ª–∏–∂–∞–π—à–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è -->
                <section class="reminders-section">
                    <h2><i class="fas fa-bell"></i> –ë–ª–∏–∂–∞–π—à–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>
                    <div class="reminders-list" id="remindersList">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è -->
                    </div>
                </section>
                
                <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <section class="quick-actions">
                    <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                    <div class="actions-grid">
                        <button class="action-btn" onclick="showAdoptionForm()">
                            <i class="fas fa-heart"></i>
                            <span>–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</span>
                        </button>
                        <button class="action-btn" onclick="showPage('pets')">
                            <i class="fas fa-plus"></i>
                            <span>–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞</span>
                        </button>
                        <button class="action-btn" onclick="showPage('partners')">
                            <i class="fas fa-search"></i>
                            <span>–ù–∞–π—Ç–∏ –∫–ª–∏–Ω–∏–∫—É</span>
                        </button>
                        <button class="action-btn" onclick="showShelterPets()">
                            <i class="fas fa-hands-helping"></i>
                            <span>–ü–∏—Ç–æ–º—Ü—ã –∏–∑ –ø—Ä–∏—é—Ç–æ–≤</span>
                        </button>
                    </div>
                </section>
                
                <!-- –ò—Å—Ç–æ—á–Ω–∏–∫ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞) -->
                <section class="source-info">
                    <p><i class="fas fa-info-circle"></i> –ò—Å—Ç–æ—á–Ω–∏–∫: <span id="sourceInfo">–Ω–µ —É–∫–∞–∑–∞–Ω</span></p>
                </section>
            </div>
            
            <!-- –ü–∏—Ç–æ–º—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div id="pets-page" class="page">
                <div class="page-header">
                    <button class="back-btn" onclick="showPage('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ú–æ–∏ –ø–∏—Ç–æ–º—Ü—ã</h2>
                </div>
                
                <div class="pets-list" id="petsList">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–∏—Ç–æ–º—Ü—ã -->
                </div>
                
                <button class="btn-primary" onclick="showAddPetForm()">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
                </button>
            </div>
            
            <!-- –ö–∞—Ç–∞–ª–æ–≥ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ -->
            <div id="partners-page" class="page">
                <div class="page-header">
                    <button class="back-btn" onclick="showPage('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ü–∞—Ä—Ç–Ω—ë—Ä—ã</h2>
                </div>
                
                <div class="filters">
                    <select id="partnerTypeFilter">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        <option value="clinic">–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è –∫–ª–∏–Ω–∏–∫–∞</option>
                        <option value="shelter">–ü—Ä–∏—é—Ç</option>
                        <option value="shop">–ó–æ–æ–º–∞–≥–∞–∑–∏–Ω</option>
                        <option value="grooming">–ì—Ä—É–º–∏–Ω–≥</option>
                        <option value="hotel">–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö</option>
                    </select>
                    
                    <select id="districtFilter">
                        <option value="">–í—Å–µ —Ä–∞–π–æ–Ω—ã –ö–∞–∑–∞–Ω–∏</option>
                        <option value="aviastroitelny">–ê–≤–∏–∞—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π</option>
                        <option value="vakhitovsky">–í–∞—Ö–∏—Ç–æ–≤—Å–∫–∏–π</option>
                        <option value="kirovsky">–ö–∏—Ä–æ–≤—Å–∫–∏–π</option>
                        <option value="moskovsky">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                        <option value="novosavinovsky">–ù–æ–≤–æ-–°–∞–≤–∏–Ω–æ–≤—Å–∫–∏–π</option>
                        <option value="privolzhsky">–ü—Ä–∏–≤–æ–ª–∂—Å–∫–∏–π</option>
                        <option value="sovetsky">–°–æ–≤–µ—Ç—Å–∫–∏–π</option>
                    </select>
                </div>
                
                <div class="partners-list" id="partnersList">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã -->
                </div>
            </div>
            
            <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div id="profile-page" class="page">
                <div class="page-header">
                    <button class="back-btn" onclick="showPage('home')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
                </div>
                
                <div class="profile-info">
                    <div class="avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="user-data">
                        <h3 id="userName"></h3>
                        <p><i class="fas fa-phone"></i> <span id="userPhone"></span></p>
                        <p><i class="fas fa-map-marker-alt"></i> <span id="userDistrict"></span></p>
                        <p><i class="fas fa-calendar"></i> –í —Å–µ—Ä–≤–∏—Å–µ —Å <span id="userSince"></span></p>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="profile-btn" onclick="editProfile()">
                        <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                    </button>
                    <button class="profile-btn" onclick="showPrivacy()">
                        <i class="fas fa-shield-alt"></i> –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
                    </button>
                    <button class="profile-btn" onclick="getReferralLink()">
                        <i class="fas fa-share-alt"></i> –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
                    </button>
                    <button class="profile-btn logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        
        <!-- –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ (–∏–∑ –¢–ó) -->
        <div id="adoptionModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-heart"></i> –ó–∞—è–≤–∫–∞ –Ω–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
                    <button class="close-btn" onclick="closeModal('adoptionModal')">&times;</button>
                </div>
                
                <form id="adoptionForm" class="modal-form">
                    <div class="form-step active" data-step="1">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> –í–∞—à–µ –∏–º—è *</label>
                            <input type="text" id="leadName" required 
                                   placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <div class="phone-input-group">
                                <input type="tel" id="leadPhone" required 
                                       placeholder="+7 (900) 000-00-00" readonly>
                                <button type="button" class="btn-small" onclick="requestPhone()">
                                    <i class="fas fa-share-alt"></i> –ü–æ–ª—É—á–∏—Ç—å –∏–∑ Telegram
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-bullseye"></i> –¶–µ–ª—å –æ–±—Ä–∞—â–µ–Ω–∏—è *</label>
                            <select id="leadPurpose" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å</option>
                                <option value="appointment">–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏—ë–º</option>
                                <option value="question">–í–æ–ø—Ä–æ—Å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É</option>
                                <option value="adoption">–£—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                        
                        <button type="button" class="btn-next" onclick="nextFormStep(2)">–î–∞–ª–µ–µ</button>
                    </div>
                    
                    <div class="form-step" data-step="2">
                        <div class="form-group">
                            <label><i class="fas fa-paw"></i> –í—ã–±–µ—Ä–∏—Ç–µ –ø–∏—Ç–æ–º—Ü–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                            <select id="leadPet">
                                <option value="">–ù–µ –≤—ã–±–∏—Ä–∞—Ç—å</option>
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∏—Ç–æ–º—Ü–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-comment"></i> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                            <textarea id="leadComment" rows="4" 
                                      placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é, –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-store"></i> –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ *</label>
                            <select id="leadPartner" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</option>
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏ -->
                            </select>
                        </div>
                        
                        <div class="form-checkbox">
                            <input type="checkbox" id="leadPrivacy" required>
                            <label for="leadPrivacy">
                                –Ø —Å–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                            </label>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="button" class="btn-prev" onclick="prevFormStep(1)">–ù–∞–∑–∞–¥</button>
                            <button type="submit" class="btn-submit">
                                <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞ -->
        <div id="addPetModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞</h3>
                    <button class="close-btn" onclick="closeModal('addPetModal')">&times;</button>
                </div>
                
                <form id="addPetForm" class="modal-form">
                    <div class="form-group">
                        <label>–¢–∏–ø –∂–∏–≤–æ—Ç–Ω–æ–≥–æ *</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="petType" value="cat" required>
                                <i class="fas fa-cat"></i> –ö–æ—à–∫–∞
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="petType" value="dog" required>
                                <i class="fas fa-dog"></i> –°–æ–±–∞–∫–∞
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ò–º—è –ø–∏—Ç–æ–º—Ü–∞ *</label>
                        <input type="text" id="petName" required placeholder="–ö–ª–∏—á–∫–∞ –ø–∏—Ç–æ–º—Ü–∞">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ü–æ–ª *</label>
                            <select id="petSex" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                                <option value="male">–ú–∞–ª—å—á–∏–∫</option>
                                <option value="female">–î–µ–≤–æ—á–∫–∞</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>–í–æ–∑—Ä–∞—Å—Ç *</label>
                            <input type="text" id="petAge" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2 –≥–æ–¥–∞">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–æ—Ä–æ–¥–∞</label>
                        <input type="text" id="petBreed" placeholder="–ü–æ—Ä–æ–¥–∞ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–∞)">
                    </div>
                    
                    <div class="form-group">
                        <label>–í–µ—Å (–∫–≥)</label>
                        <input type="number" id="petWeight" step="0.1" placeholder="–í–µ—Å –≤ –∫–≥">
                    </div>
                    
                    <button type="submit" class="btn-submit">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
                    </button>
                </form>
            </div>
        </div>
        
        <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ -->
        <div id="referralModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-share-alt"></i> –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞</h3>
                    <button class="close-btn" onclick="closeModal('referralModal')">&times;</button>
                </div>
                
                <div class="referral-content">
                    <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–æ–π —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏:</p>
                    <div class="referral-link" id="referralLink">
                        <code>t.me/–≤–∞—à_–±–æ—Ç?start=ref_123456</code>
                    </div>
                    <button class="btn-copy" onclick="copyReferralLink()">
                        <i class="fas fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
                    </button>
                    
                    <div class="referral-stats">
                        <h4>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</h4>
                        <p>üë• –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ: <strong>0</strong> —á–µ–ª–æ–≤–µ–∫</p>
                        <p>üêæ –£—Å—ã–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –≤–∞—Å: <strong>0</strong> –ø–∏—Ç–æ–º—Ü–µ–≤</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ -->
        <div id="successModal" class="modal hidden">
            <div class="modal-content success-content">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>–£—Å–ø–µ—à–Ω–æ!</h3>
                <p id="successMessage">–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã</p>
                <button class="btn-ok" onclick="closeModal('successModal')">OK</button>
            </div>
        </div>
        
        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
        <div id="loading" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>
    
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è -->
    <script>
        // –ë–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const app = document.getElementById('app');
            app.classList.remove('hidden');
            console.log('App initialized');
        });
    </script>
</body>
</html>
